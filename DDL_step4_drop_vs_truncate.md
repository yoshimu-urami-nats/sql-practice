
# Step 4：DROP TABLE, TRUNCATE TABLE の違い

## ✅ DROP TABLE とは？
- テーブル自体を **完全に削除** するSQL文。
- テーブルの構造もデータも全て消える。
- **元に戻せない**！（ROLLBACK不可）
- 依存関係（外部キーなど）があると削除できない場合あり。

```sql
DROP TABLE テーブル名;
```

---

## ✅ TRUNCATE TABLE とは？
- テーブルの構造は残したまま、**データだけ全削除**。
- テーブルは存在し続ける（構造定義は消えない）。
- **原則として元に戻せない**（ROLLBACKできないDBも多い）。
- DELETE より高速。ログの記録が最小限だから。

```sql
TRUNCATE TABLE テーブル名;
```

---

## ✅ 違いの比較表

| 比較項目              | DROP TABLE           | TRUNCATE TABLE        |
|-----------------------|----------------------|------------------------|
| テーブル構造         | 消える               | 残る                   |
| データ               | 消える               | 消える                 |
| 取り消し（ROLLBACK）| ❌ 不可              | ⚠️ 原則不可（DB依存）|
| 実行速度             | 速い                 | 非常に速い             |
| 外部キー制約         | 影響を受けることあり | 制限があることあり     |

---

## ✅ 実務ではどちらを使うべき？

- **安全性を重視する場面では TRUNCATE より DELETE（+ WHERE）** を検討しよう。
- **DROP は基本的に「開発環境」や「不要なテーブルの掃除」に使う。**
- **本番で誤って実行すると復元できない可能性大⚠️！**

---

📝 POINT：  
> TRUNCATE は「初期化」目的  
> DROP は「完全削除」目的  
